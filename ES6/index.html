<!doctype html>
<html>
  <head>
    <title>ES6 Demonstration</title>
    <script>
      class Paged extends HTMLElement {
        constructor() {
          super();
          const shadow = this.attachShadow({ mode: "open" });
          let pager = "Page: ";
          for (let i = 1; i <= 5; i++) {
            pager += `<span class="page" data-page=${i}>${i}</span> `;
          }
          shadow.innerHTML = `
    <style>
    .pager { margin: 5px 10px; user-select: none; -webkit-user-select: none; font-family: sans-serif; }
    .pager .page { display: inline-block; padding: 0px 5px; cursor: pointer; }
    .pager .page:active { color: red; }
    .selected { font-weight: bold; color: red; }
    .paged-content { font: bold 250% sans-serif; padding: 25px 10px; }
    </style>
    <div class="pager">${pager}</div>
    <div class="paged-content">Page 1</div>
    <div class="pager">${pager}</div>
`;
        }
        connectedCallback() {
          this.shadowRoot.querySelectorAll(".page").forEach((el) => {
            if (el.dataset.page === "1") el.classList.add("selected");
            el.addEventListener("click", this.navigate);
          });
        }

        navigate = (ev) => {
          this.shadowRoot.querySelector(".paged-content").textContent = `Page ${e.dataset.page}`;
          this.shadowRoot.querySelectorAll(".page").forEach((el) =>
              el.classList[el.dataset.page === e.dataset.page ? "add" : "remove"]("selected")
            );
        };
      }
      customElements.define("c-paged", Paged);
    </script>
  </head>
  <body>
    <c-paged></c-paged>
  </body>
</html>
